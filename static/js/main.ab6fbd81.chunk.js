(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{18:function(t,e,n){t.exports={item:"Navbar_item__3qDrq",nav:"Navbar_nav__K3FrP",navList:"Navbar_navList__3eEbz",navBtn:"Navbar_navBtn__DJs58"}},20:function(t,e,n){t.exports={post:"PostItem_post__21TQS",postContent:"PostItem_postContent__2bREx",button:"PostItem_button__2umEy"}},25:function(t,e,n){t.exports={modal:"MyModal_modal__1DlDO",modalContent:"MyModal_modalContent__349pT",active:"MyModal_active__1S6ye"}},27:function(t,e,n){t.exports={post:"Post_post__1O4sF",comments:"Post_comments__32L6-",postTitle:"Post_postTitle__3j0L4"}},31:function(t,e,n){t.exports={loader:"Loader_loader__3e0lI",loaderText:"Loader_loaderText__1HFxq"}},32:function(t,e,n){t.exports={span:"Pagination_span__ISV51",current:"Pagination_current__3JmCw"}},43:function(t,e,n){t.exports={button:"MyButton_button__3wXYB"}},46:function(t,e,n){t.exports={list:"PostList_list__1J1qb"}},47:function(t,e,n){t.exports={input:"MyInput_input__19YZi"}},48:function(t,e,n){t.exports={select:"MySelect_select__3Ac7-"}},49:function(t,e,n){t.exports={list:"PostList_list__2jnZD"}},53:function(t,e,n){t.exports={comment:"Comment_comment__2GfSc"}},54:function(t,e,n){t.exports={form:"Login_form__TtbeS",input:"Login_input__1JzWN"}},60:function(t,e,n){},61:function(t,e,n){},69:function(t,e,n){t.exports={list:"PostList_list__1BYp7"}},88:function(t,e,n){t.exports={list:"CommentForm_list__3J-X8"}},89:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),r=n(16),s=n.n(r),o=(n(60),n(3)),i=(n(61),n(15)),u=a.a.createContext(null),j=n(5),l=n(24),b=n(43),d=n.n(b),O=n(0),p=["children","className"],f=function(t){var e=t.children,n=t.className,c=Object(l.a)(t,p);return Object(O.jsx)("button",Object(j.a)(Object(j.a)({className:[d.a.button,n].join(" ")},c),{},{children:e}))},h=n(18),m=n.n(h),x=function(){var t=Object(c.useContext)(u).setIsAuth;return Object(O.jsxs)("div",{className:m.a.nav,children:[Object(O.jsxs)("div",{className:m.a.navList,children:[Object(O.jsx)(i.b,{className:m.a.item,to:"/about",children:"About"}),Object(O.jsx)(i.b,{className:m.a.item,to:"/posts",children:"Posts"})]}),Object(O.jsx)(f,{onClick:function(){t(!1),localStorage.removeItem("isAuth")},className:m.a.navBtn,children:"Log Out"})]})},v=n(2),_=n(7),g=n.n(_),y=n(14),C=n(12),S=n(20),N=n.n(S),P=function(t){var e=t.post,n=t.removePost,c=t.number,a=Object(v.g)();return Object(O.jsxs)("div",{className:N.a.post,children:[Object(O.jsxs)("div",{className:N.a.postContent,children:[Object(O.jsxs)("strong",{children:[c,". ",e.title]}),Object(O.jsxs)("div",{children:[" ",e.body]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(f,{className:N.a.button,onClick:function(){a.push("./posts/".concat(e.id))},children:"see more"}),Object(O.jsx)(f,{className:N.a.button,onClick:function(){return n(e.id)},children:"delete"})]})]})},w=n(46),k=n.n(w),I=n(92),L=n(91),A=function(t){var e=t.posts,n=t.removePost;return e.length?Object(O.jsxs)("div",{className:k.a.list,children:[Object(O.jsx)("h1",{children:" My Posts"}),Object(O.jsx)(I.a,{children:e.map((function(t,e){return Object(O.jsx)(L.a,{timeout:500,classNames:"post",children:Object(O.jsx)(P,{number:e+1,post:t,removePost:n})},t.id)}))})]}):Object(O.jsx)("h2",{children:"There is no posts"})},M=n(47),T=n.n(M),B=["children"],D=function(t){t.children;var e=Object(l.a)(t,B);return Object(O.jsx)("input",Object(j.a)({className:T.a.input},e))},E=(n(69),function(t){var e=t.create,n=Object(c.useState)({title:"",body:""}),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(O.jsxs)("form",{children:[Object(O.jsx)(D,{placeholder:"title",value:r.title,onChange:function(t){return s(Object(j.a)(Object(j.a)({},r),{},{title:t.target.value}))}}),Object(O.jsx)(D,{placeholder:"description",value:r.body,onChange:function(t){return s(Object(j.a)(Object(j.a)({},r),{},{body:t.target.value}))}}),Object(O.jsx)(f,{onClick:function(t){t.preventDefault(),e(Object(j.a)({id:Date.now()},r)),s({title:"",body:""})},children:"Create Post"})]})}),F=n(48),J=n.n(F),V=function(t){var e=t.option,n=t.defaultValue,c=t.onChange,a=t.selectedSort;return Object(O.jsxs)("select",{className:J.a.select,value:a,onChange:function(t){return c(t.target.value)},children:[Object(O.jsx)("option",{disabled:!0,value:"",children:n}),e.map((function(t){return Object(O.jsx)("option",{value:t.value,children:t.name},t.value)}))]})},Q=n(49),q=n.n(Q),R=function(t){var e=t.filter,n=t.setFilter;return Object(O.jsxs)("div",{className:q.a.list,children:[Object(O.jsx)(D,{placeholder:"search",value:e.searchQuary,onChange:function(t){return n(Object(j.a)(Object(j.a)({},e),{},{searchQuary:t.target.value}))}}),Object(O.jsx)(V,{onChange:function(t){return n(Object(j.a)(Object(j.a)({},e),{},{selectedSort:t}))},selectedSort:e.selectedSort,option:[{name:"title",value:"title"},{name:"description",value:"body"}],defaultValue:"Sort by"})]})},Y=n(25),z=n.n(Y),X=function(t){var e=t.children,n=t.visible,c=t.setVisible,a=[z.a.modal];return n&&a.push(z.a.active),Object(O.jsx)("div",{className:a.join(" "),onClick:function(){return c(!1)},children:Object(O.jsx)("div",{className:z.a.modalContent,onClick:function(t){return t.stopPropagation()},children:e})})},Z=function(t,e,n){var a=function(t,e){return Object(c.useMemo)((function(){return e?Object(y.a)(t.sort((function(t,n){return t[e].localeCompare(n[e])}))):t}),[e,t])}(t,e);return Object(c.useMemo)((function(){return a.filter((function(t){return t.title.toLowerCase().includes(n.toLowerCase())}))}),[n,a])},G=n(50),H=n(51),K=n(26),W=n.n(K),U=function(){function t(){Object(G.a)(this,t)}return Object(H.a)(t,null,[{key:"getAll",value:function(){var t=Object(C.a)(g.a.mark((function t(){var e,n,c,a=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:10,n=a.length>1&&void 0!==a[1]?a[1]:1,t.next=4,W.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:e,_page:n}});case 4:return c=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getPostById",value:function(){var t=Object(C.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCommentsById",value:function(){var t=Object(C.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),$=n(52),tt=n(31),et=n.n(tt),nt=n.p+"static/media/loader.9dd581ae.gif",ct=function(t){return Object($.a)(t),Object(O.jsxs)("div",{className:et.a.loader,children:[Object(O.jsx)("div",{className:et.a.loaderText,children:"Posts is loaded..."}),Object(O.jsx)("img",{src:nt,alt:"loader"})]})},at=function(t){var e=Object(c.useState)(!1),n=Object(o.a)(e,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),u=i[0],j=i[1],l=function(){var e=Object(C.a)(g.a.mark((function e(){var n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,t.apply(void 0,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j(e.t0.message);case 9:return e.prev=9,r(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return[l,a,u]};n(32);var rt=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)({selectedSort:"",searchQuary:""}),s=Object(o.a)(r,2),i=s[0],u=s[1],j=Object(c.useState)(!1),l=Object(o.a)(j,2),b=l[0],d=l[1],p=Object(c.useState)(0),h=Object(o.a)(p,2),m=h[0],x=h[1],v=Object(c.useState)(10),_=Object(o.a)(v,2),S=_[0],N=(_[1],Object(c.useState)(1)),P=Object(o.a)(N,2),w=P[0],k=P[1],I=Object(c.useRef)(),L=at(Object(C.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getAll(S,w);case 2:e=t.sent,a([].concat(Object(y.a)(n),Object(y.a)(e.data))),x((c=e.headers["x-total-count"],r=S,Math.ceil(c/r)));case 5:case"end":return t.stop()}var c,r}),t)})))),M=Object(o.a)(L,3),T=M[0],B=M[1],D=M[2];Object(c.useEffect)((function(){T()}),[w,S]),function(t,e,n,a){var r=Object(c.useRef)();Object(c.useEffect)((function(){n||(r.current&&r.current.disconnect(),r.current=new IntersectionObserver((function(t,n){t[0].isIntersecting&&e&&a()})),r.current.observe(t.current))}),[n])}(I,w<m,B,(function(){return k(w+1)}));var F=Z(n,i.selectedSort,i.searchQuary);return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(f,{onClick:function(){return d(!0)},children:"Create Post"}),Object(O.jsx)(X,{visible:b,setVisible:d,children:Object(O.jsx)(E,{create:function(t){a([].concat(Object(y.a)(n),[t])),d(!1)}})}),Object(O.jsx)(R,{filter:i,setFilter:u}),D&&Object(O.jsx)("div",{children:D}),B&&Object(O.jsx)(ct,{}),Object(O.jsx)(A,{posts:F,removePost:function(t){a(n.filter((function(e){return e.id!==t})))}}),Object(O.jsx)("div",{ref:I})]})},st=n(27),ot=n.n(st),it=n(53),ut=n.n(it),jt=function(t){var e=t.comment;return Object(O.jsxs)("div",{className:ut.a.comment,children:[Object(O.jsx)("div",{children:e.name}),Object(O.jsx)("div",{children:e.email}),Object(O.jsx)("div",{children:e.body})]})},lt=(n(88),function(t){var e=t.create,n=Object(c.useState)({name:"",body:""}),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(O.jsxs)("form",{children:[Object(O.jsx)(D,{placeholder:"title",value:r.name,onChange:function(t){return s(Object(j.a)(Object(j.a)({},r),{},{name:t.target.value}))}}),Object(O.jsx)(D,{placeholder:"description",value:r.body,onChange:function(t){return s(Object(j.a)(Object(j.a)({},r),{},{body:t.target.value}))}}),Object(O.jsx)(f,{onClick:function(t){t.preventDefault(),e(Object(j.a)({id:Date.now()},r)),s({name:"",body:""})},children:"Create Comment"})]})});var bt=function(t){var e=Object(c.useState)({}),n=Object(o.a)(e,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(o.a)(s,2),u=i[0],j=i[1],l=Object(c.useState)(!1),b=Object(o.a)(l,2),d=b[0],p=b[1],h=Object(v.h)().id,m=at(function(){var t=Object(C.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getPostById(e);case 2:n=t.sent,r(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=Object(o.a)(m,3),_=x[0],S=x[1],N=(x[2],at(function(){var t=Object(C.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getCommentsById(e);case 2:n=t.sent,j(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),P=Object(o.a)(N,3),w=P[0],k=P[1];return P[2],Object(c.useEffect)((function(){_(h)}),[]),Object(c.useEffect)((function(){w(h)}),[]),S?Object(O.jsx)(ct,{}):Object(O.jsxs)("div",{className:ot.a.post,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:ot.a.postTitle,children:a.title}),Object(O.jsx)("div",{children:a.body})]}),Object(O.jsxs)("div",{className:ot.a.comments,children:[Object(O.jsx)("h3",{children:"Comments"}),Object(O.jsx)(f,{onClick:function(){return p(!0)},children:"Create Comment"}),Object(O.jsx)(X,{visible:d,setVisible:p,children:Object(O.jsx)(lt,{create:function(t){j([].concat(Object(y.a)(u),[t])),p(!1)}})}),k?Object(O.jsx)(ct,{}):Object(O.jsx)("div",{children:u.map((function(t){return Object(O.jsx)(jt,{comment:t},t.id)}))})]})]})};var dt=function(){return Object(O.jsx)("h2",{children:"This app was develop by Oleg Dub"})};var Ot=function(){return Object(O.jsx)("div",{children:"Err"})},pt=n(54),ft=n.n(pt),ht=[{path:"/posts",component:rt,exact:!0},{path:"/posts/:id",component:bt,exact:!0},{path:"/about",component:dt,exact:!1},{path:"/error",component:Ot,exact:!1}],mt=[{path:"/login",component:function(){var t=Object(c.useContext)(u).setIsAuth;return Object(O.jsxs)("form",{className:ft.a.form,onSubmit:function(e){e.preventDefault(),t(!0),localStorage.setItem("isAuth","true")},children:[Object(O.jsx)(D,{type:"text",placeholder:"name"}),Object(O.jsx)(D,{type:"password",placeholder:"password"}),Object(O.jsx)(f,{children:"Log in"})]})},exact:!0}],xt=function(){var t=Object(c.useContext)(u),e=t.isAuth;return t.isLoading?Object(O.jsx)(ct,{}):e?Object(O.jsxs)(v.d,{children:[ht.map((function(t){return Object(O.jsx)(v.b,{exact:t.exact,path:t.path,children:Object(O.jsx)(t.component,{})},t.path)})),Object(O.jsx)(v.a,{to:"/posts"})]}):Object(O.jsxs)(v.d,{children:[mt.map((function(t){return Object(O.jsx)(v.b,{exact:t.exact,path:t.path,children:Object(O.jsx)(t.component,{})},t.path)})),Object(O.jsx)(v.a,{to:"/login"})]})},vt=n(33);var _t=function(){var t=Object(vt.useState)(!1),e=Object(o.a)(t,2),n=e[0],a=e[1],r=Object(vt.useState)(!0),s=Object(o.a)(r,2),j=s[0],l=s[1];return Object(c.useEffect)((function(){localStorage.getItem("isAuth")&&a(!0),l(!1)}),[]),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(u.Provider,{value:{isAuth:n,setIsAuth:a,isLoading:j},children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)(x,{}),Object(O.jsx)(xt,{})]})})})},gt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(_t,{})}),document.getElementById("root")),gt()}},[[89,1,2]]]);
//# sourceMappingURL=main.ab6fbd81.chunk.js.map